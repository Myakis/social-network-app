{"version":3,"file":"static/js/567.913baed9.chunk.js","mappings":"oLACA,MAAuB,oBAAvB,EAAuD,yBAAvD,EAA4F,yB,wCCA5F,EAAyB,4BAAzB,EAA6D,2B,+CCChDA,EAAW,SAAAC,GAAK,OAAKA,OAAQC,EAAY,+FAMhDC,EAAY,SAAC,GAA8B,EAA5BC,MAA6B,IAAtBC,EAAqB,EAArBA,KAASC,GAAY,YACzCC,EAAWF,EAAKG,OAASH,EAAKI,QACpC,OACE,iBAAKC,UAAS,UAAKC,EAAL,YAAuBJ,EAAWI,EAAgB,GAAlD,KAAd,UACGL,EAAMM,SACNL,IAAY,0BAAOF,EAAKG,YAKlBK,EAAQ,SAAAP,GACnB,IAAQF,EAA8BE,EAA9BF,MAAgBU,GAAcR,EAAvBD,MAAf,OAAsCC,EAAtC,IACA,OACE,SAACH,GAAD,kBAAeG,GAAf,cACE,oCAAWQ,GAAeV,Q,6BCD1BW,EAAY,SAAAT,GAChB,IAGMU,EDtBuB,SAAAA,GAAQ,OAAI,SAAAf,GAAK,OAC9CA,GAASA,EAAMgB,OAASD,EAAxB,oHAA2DA,QAAad,GCqBvDgB,CAAgB,IAC3BC,EDrBuB,SAAAA,GAAQ,OAAI,SAAAlB,GAAK,OAC9CA,GAASA,EAAMgB,OAASE,EAAxB,4GAAwDA,QAAajB,GCoBpDkB,CAAgB,IAC3BC,EACJ,sCAAIC,EAAJ,yBAAIA,EAAJ,uBACA,SAAArB,GAAK,OACHqB,EAAWC,QAAO,SAACf,EAAOgB,GAAR,OAAsBhB,GAASgB,EAAUvB,UAAQC,KAEvE,OACE,SAAC,KAAD,CACEuB,SAZa,SAAAC,GACfpB,EAAMqB,MAAMD,EAAKE,MAAOF,EAAKG,SAAUH,EAAKI,aAY1CC,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACN,kBAAMP,SAAUO,EAActB,UAAWC,EAAcsB,OAAO,GAA9D,WACE,gBAAKvB,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEuB,KAAM,QACNC,UAAWtB,EACXuB,KAAK,OACLC,YAAY,QACZC,SAAUjB,EAAkBrB,EAAUgB,QAG1C,gBAAKN,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEuB,KAAM,WACNC,UAAWtB,EACXuB,KAAK,WACLC,YAAY,uCACZC,SAAUjB,EAAkBrB,EAAUmB,QAG1C,mBAAOT,UAAWC,EAAlB,WACE,SAAC,KAAD,CAAOuB,KAAM,aAAcC,UAAU,QAAQC,KAAK,aADpD,qFAIC9B,EAAMiC,eACL,gBAAK7B,UAAWC,EAAhB,UACE,4BAAOL,EAAMiC,aAAb,UAGJ,gBAAK7B,UAAWC,EAAhB,UACE,mBAAQyB,KAAK,SAAb,sDAYZ,GAAeI,EAAAA,EAAAA,KALS,SAAAC,GAAK,MAAK,CAChCC,OAAQD,EAAME,KAAKD,OACnBH,aAAcE,EAAME,KAAKJ,gBAGa,CACtCZ,MAAAA,EAAAA,IADF,EArEc,SAAArB,GACZ,OAAIA,EAAMoC,QACD,SAAC,KAAD,CAAUE,GAAI,cAIrB,4BACE,sDACA,SAAC7B,EAAD,CAAWY,MAAOrB,EAAMqB,MAAOY,aAAcjC,EAAMiC","sources":["webpack://01_educational-project/./src/componetns/login/Login.module.css?c68e","webpack://01_educational-project/./src/componetns/utils/validators/FormControl.module.css?49cd","componetns/utils/validators/FormControl.jsx","componetns/login/Login.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Login_form__Ar6mQ\",\"inputWrap\":\"Login_inputWrap__6f96n\",\"errorData\":\"Login_errorData__keQru\"};","// extracted by mini-css-extract-plugin\nexport default {\"parent\":\"FormControl_parent__xsHKg\",\"error\":\"FormControl_error__j-W5z\"};","import classes from './FormControl.module.css';\r\n\r\nexport const required = value => (value ? undefined : 'Обязательно поле');\r\nexport const maxValueCreator = maxValue => value =>\r\n  value && value.length > maxValue ? `Не может быть больше ${maxValue}` : undefined;\r\nexport const minValueCreator = minValue => value =>\r\n  value && value.length < minValue ? `Минимальная длина ${minValue}` : undefined;\r\n\r\nconst FieldForm = ({ input, meta, ...props }) => {\r\n  const hasError = meta.error && meta.touched;\r\n  return (\r\n    <div className={`${classes.parent} ${hasError ? classes.error : ''} `}>\r\n      {props.children}\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = props => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <input {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n\r\nexport const Textarea = props => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <textarea {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n","import classes from './Login.module.css';\r\nimport { Form, Field } from 'react-final-form';\r\nimport React from 'react';\r\nimport { Input, maxValueCreator, minValueCreator, required } from '../utils/validators/FormControl';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst Login = props => {\r\n  if (props.isAuth) {\r\n    return <Navigate to={'/profile'} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Вход</h1>\r\n      <LoginForm login={props.login} errorMessage={props.errorMessage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginForm = props => {\r\n  const onSubmit = data => {\r\n    props.login(data.email, data.password, data.rememberMe);\r\n  };\r\n  const maxValue = maxValueCreator(50);\r\n  const minValue = minValueCreator(10);\r\n  const composeValidators =\r\n    (...validators) =>\r\n    value =>\r\n      validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit} className={classes.form} action=''>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'email'}\r\n              component={Input}\r\n              type='text'\r\n              placeholder='Email'\r\n              validate={composeValidators(required, maxValue)}\r\n            />\r\n          </div>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'password'}\r\n              component={Input}\r\n              type='password'\r\n              placeholder='Пароль'\r\n              validate={composeValidators(required, minValue)}\r\n            />\r\n          </div>\r\n          <label className={classes.inputWrap}>\r\n            <Field name={'rememberMe'} component='input' type='checkbox' />\r\n            Замомнить меня\r\n          </label>\r\n          {props.errorMessage && (\r\n            <div className={classes.errorData}>\r\n              <span>{props.errorMessage} </span>\r\n            </div>\r\n          )}\r\n          <div className={classes.inputWrap}>\r\n            <button type='submit'> Войти</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  errorMessage: state.auth.errorMessage,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  login,\r\n})(Login);\r\n"],"names":["required","value","undefined","FieldForm","input","meta","props","hasError","error","touched","className","classes","children","Input","restProps","LoginForm","maxValue","length","maxValueCreator","minValue","minValueCreator","composeValidators","validators","reduce","validator","onSubmit","data","login","email","password","rememberMe","render","handleSubmit","action","name","component","type","placeholder","validate","errorMessage","connect","state","isAuth","auth","to"],"sourceRoot":""}