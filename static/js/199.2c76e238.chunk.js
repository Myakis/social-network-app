"use strict";(self.webpackChunk_01_educational_project=self.webpackChunk_01_educational_project||[]).push([[199],{9199:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t=r(5671),i=r(3144),s=r(9340),o=r(5716),l=r(364),a=r(2791),u=r(7781),c=r(1413),f=r(6871),d=r(4245),h={list:"Users_list__ASmT7",item:"Users_item__yRXi8",profile:"Users_profile__1BF--",icon:"Users_icon__ZIdbs",follow:"Users_follow__RUcxf",unfollow:"Users_unfollow__saOGV",name:"Users_name__SjN50",activePage:"Users_activePage__XqWgf",paginatonPage:"Users_paginatonPage__QF7FT",searchInput:"Users_searchInput__vexiZ",formSearch:"Users_formSearch__mnpzK"},g=r(3504),x=r(612),m=r(533),_=r(9673),j=r(184),v=function(e){var n=e.user,r=(e.follow,e.unFollow,e.isFollowing),t=e.status,i=(0,l.v9)((function(e){return e.auth.userId}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:h.profile,children:[(0,j.jsx)(g.OL,{to:"/profile/"+n.id,children:(0,j.jsx)("img",{src:n.photos.small?n.photos.small:x,alt:"avatar"})}),i==n.id?(0,j.jsx)(g.OL,{to:"/profile/"+n.id,children:(0,j.jsx)("button",{disabled:r.some((function(e){return e===n.id})),children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}):n.followed?(0,j.jsx)(w,{user:n,isFollowing:r}):(0,j.jsx)(p,{user:n,isFollowing:r})]}),(0,j.jsxs)("div",{className:h.info,children:[(0,j.jsx)(g.OL,{to:"/profile/"+n.id,children:(0,j.jsx)("div",{className:h.name,children:n.name})}),t?(0,j.jsx)("p",{children:t}):(0,j.jsx)("p",{children:""})]})]})},p=function(e){var n=e.user,r=e.isFollowing,t=(0,l.I0)();return(0,j.jsxs)("button",{className:h.follow,disabled:r.some((function(e){return e===n.id})),onClick:function(){t((0,_.ZN)(n.id))},children:[(0,j.jsx)("span",{className:h.icon,children:(0,j.jsx)(m.Rf,{})}),"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"]})},w=function(e){var n=e.user,r=e.isFollowing,t=(0,l.I0)();return(0,j.jsxs)("button",{className:h.unfollow,disabled:r.some((function(e){return e===n.id})),onClick:function(){t((0,_.IJ)(n.id))},children:[(0,j.jsxs)("span",{className:h.icon,children:[(0,j.jsx)(m.vW,{})," "]}),"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"]})},b=r(885),P="Paginator_paginatonWrapper__YED3h",C="Paginator_activePage__hEVxq",N="Paginator_paginatonPage__-GCCf",F="Paginator_buttonPagination__8v78p",y="Paginator_buttonPrev__Md9pk";var U=r.p+"static/media/leftArrow.c0cf6e99d922aa97c598b89ab1066728.svg",Z=function(e){for(var n=e.changePage,r=e.currentPage,t=e.usersCount,i=e.totalItemsCount,s=e.portionSize,o=void 0===s?10:s,l=e.loading,u=Math.ceil(r/o),c=(0,a.useState)(u),f=(0,b.Z)(c,2),d=f[0],h=f[1],g=Math.ceil(i/t),x=[],m=1;m<=g;m++)x.push(m);var _=Math.ceil(g/o),v=(d-1)*o+1,p=d*o;return(0,j.jsx)("div",{className:N,children:(0,j.jsxs)("div",{className:P,children:[v>1&&(0,j.jsx)("button",{className:"".concat(y,"  ").concat(F),disabled:l,onClick:function(){h(d-1),n(v-1)},children:(0,j.jsx)("img",{src:U,alt:""})}),x.filter((function(e){return e>=v&&e<=p})).map((function(e){return(0,j.jsx)("span",{onClick:function(){return e!==r&&n(e)},className:r===e?C:"",children:e},e)})),_>d&&(0,j.jsx)("button",{className:F,disabled:l,onClick:function(){h(d+1),n(1+p)},children:(0,j.jsx)("img",{src:U,alt:""})})]})})},I=r(8175);var S=function(){return(0,j.jsxs)(I.ZP,{speed:2,width:450,height:185,viewBox:"0 0 450 185",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",className:h.item,children:[(0,j.jsx)("rect",{x:"0",y:"153",rx:"10",ry:"10",width:"152",height:"30"}),(0,j.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"152",height:"138"}),(0,j.jsx)("rect",{x:"170",y:"5",rx:"3",ry:"3",width:"282",height:"31"}),(0,j.jsx)("rect",{x:"170",y:"49",rx:"0",ry:"0",width:"279",height:"20"})]})},k=r(5705),T=(0,r(6916).P1)((function(e){return e.users.users}),(function(e){return e.filter((function(e){return!0}))})),E=function(e){return e.users.usersCount},J=function(e){return e.users.currentPage},M=function(e){return e.users.totalUsersCount},O=function(e){return e.users.ifFetching},R=function(e){return e.users.isFollowing},q=function(e){return e.users.filter},z=function(e){var n=e.onFilter,r=(0,l.v9)(q);return(0,j.jsx)("div",{children:(0,j.jsx)(k.J9,{enableReinitialize:!0,initialValues:{term:r.term,friend:String(r.friend)},onSubmit:function(e,r){var t=r.setSubmitting,i={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};n(i),t(!1)},children:function(e){var n=e.isSubmitting;return(0,j.jsxs)(k.l0,{className:h.formSearch,children:[(0,j.jsx)(k.gN,{className:h.searchInput,type:"text",name:"term",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438"}),(0,j.jsxs)(k.gN,{as:"select",name:"friend",children:[(0,j.jsx)("option",{value:"null",children:"\u0412\u0441\u0435"}),(0,j.jsx)("option",{value:"true",children:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,j.jsx)("option",{value:"false",children:"\u0415\u0449\u0435 \u043d\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"})]}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{type:"submit",disabled:n,children:"\u041f\u043e\u0438\u0441\u043a"})})]})}})})},A=a.memo((function(){var e=(0,l.I0)(),n=(0,f.s0)(),r=(0,f.TH)(),t=(0,l.v9)(T),i=(0,l.v9)(O),s=(0,l.v9)(E),o=(0,l.v9)(q),u=(0,l.v9)(J),g=(0,l.v9)(M),x=(0,l.v9)(R);(0,a.useEffect)((function(){var n=d.parse(r.search),t=u,i=o;n.page&&(t=+n.page),n.term&&(i=(0,c.Z)((0,c.Z)({},i),{},{term:n.term})),n.friend&&(i=(0,c.Z)((0,c.Z)({},i),{},{friend:"null"===n.friend?null:"true"===n.friend})),e((0,_.Tx)(t,s,i))}),[]),(0,a.useEffect)((function(){var e={};o.term&&(e.term=o.term),null!==o.friend&&(e.friend=String(o.friend)),1!==u&&(e.page=String(u)),n("?"+d.stringify(e))}),[s,u,o]);var m=function(n){e((0,_.ZN)(n))},p=function(n){e((0,_.IJ)(n))};return(0,j.jsxs)("div",{className:h.list,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(z,{onFilter:function(n){e((0,_.Tx)(1,s,n))}}),i&&Array(6).fill("").map((function(e,n){return(0,j.jsx)(S,{},n)})),!i&&t.map((function(e){return(0,j.jsx)("div",{className:h.item,children:(0,j.jsx)(v,{user:e,isFollowing:x,follow:m,unFollow:p,status:e.status})},e.id)}))]}),(0,j.jsx)(Z,{loading:i,usersCount:s,totalItemsCount:g,currentPage:u,changePage:function(n){e((0,_.Tx)(n,s,o))}})]})})),L=r(2932),V=_.EJ.setCurrentPage,W=_.EJ.toggleFollowingProgressive,B=(0,l.$j)((function(e){return{users:T(e),usersCount:E(e),currentPage:J(e),totalUsersCount:M(e),isFetching:O(e),isFollowing:R(e),filter:q(e)}}),{follow:_.ZN,unFollow:_.IJ,setCurrentPage:V,toggleFollowingProgressive:W,getsUsers:_.Tx}),D=function(e){(0,s.Z)(r,e);var n=(0,o.Z)(r);function r(){return(0,t.Z)(this,r),n.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){return(0,j.jsx)(A,{})}}]),r}(a.Component),G=(0,u.qC)(B,L.D)(D)}}]);
//# sourceMappingURL=199.2c76e238.chunk.js.map