"use strict";(self.webpackChunk_01_educational_project=self.webpackChunk_01_educational_project||[]).push([[761],{761:function(s,e,a){a.r(e),a.d(e,{Messages:function(){return Z},default:function(){return x}});var t=a(1413),n=a(885),r=a(2791),i=a(8105),o=a(364),_=a(2640),u=a(7593),c=a(3504),l=a(612),d="MessagesListComponents_messageBlock__3B7zw",g="MessagesListComponents_messageBody__u6u6b",m="MessagesListComponents_userData__8EUjy",f="MessagesListComponents_messageBlockReverse__SIy5w",v="MessagesListComponents_img__ucP2I",h=a(7508),p=a(184),M=function(s){var e=(0,o.v9)((function(s){return s.auth.userId}));return(0,p.jsx)("div",{className:e===s.userId?f:d,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:v}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)(c.OL,{to:"/profile/"+s.userId,children:(0,p.jsx)("img",{src:s.photo?s.photo:l,alt:"userAvatar"})}),(0,p.jsxs)("div",{className:g,children:[" ",s.message?s.message:"\u043f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"]})]})]})})},j=function(){var s=(0,o.I0)(),e=(0,o.v9)((function(s){return s.chat.status})),a=(0,r.useState)(""),t=(0,n.Z)(a,2),i=t[0],c=t[1];return"pending"===e?(0,p.jsx)(h.Z,{}):(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s((0,_.bG)(i)),c("")},className:u.Z.form,children:[(0,p.jsx)("input",{type:"text",value:i,onChange:function(s){return c(s.target.value)},className:u.Z.input}),(0,p.jsx)("button",{disabled:"ready"!==e,className:u.Z.button,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},x=function(){var s=(0,o.I0)();return(0,r.useEffect)((function(){return s((0,_.WE)()),function(){s((0,_.I)())}}),[]),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:u.Z.dialogWindow,children:[(0,p.jsx)("div",{className:u.Z.list,children:(0,p.jsx)(Z,{})}),(0,p.jsx)(j,{})]})})},Z=r.memo((function(){var s=(0,r.useState)(!0),e=(0,n.Z)(s,2),a=e[0],_=e[1],c=(0,o.v9)((function(s){return s.chat.messages})),l=(0,o.v9)((function(s){return s.chat.status})),d=(0,r.useRef)(null),g=(0,i.YD)({rootMargin:"10px",threshold:0}),m=g.ref,f=g.inView;return(0,r.useEffect)((function(){var s,e;f&&(a?(null===(s=d.current)||void 0===s||s.scrollIntoView(),_(!1)):null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[c]),0==c.length&&"ready"===l?(0,p.jsxs)("div",{className:u.Z.noMessage,children:[(0,p.jsx)("span",{children:"\u041d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"})," "]}):(0,p.jsxs)("div",{children:[c.map((function(s,e){return(0,r.createElement)(M,(0,t.Z)((0,t.Z)({},s),{},{key:s.id}))})),(0,p.jsx)("div",{ref:d,children:(0,p.jsx)("div",{ref:m})})]})}))},7593:function(s,e){e.Z={dialogsWrapper:"Messages_dialogsWrapper__YwypJ",dialogWindow:"Messages_dialogWindow__1gblw",dialogs:"Messages_dialogs__iZr+M",user:"Messages_user__PCZbo",name:"Messages_name__SmhmX",avatar:"Messages_avatar__W6z6z",last__message:"Messages_last__message__CPj+c",item:"Messages_item__x7KDk",list:"Messages_list__k7V2X",form:"Messages_form__YxykZ",input:"Messages_input__pIkD+",body:"Messages_body__+rpBH",button:"Messages_button__uH0ZZ",message:"Messages_message__irOQy",me:"Messages_me__Y0DQm",active:"Messages_active__FP9nJ",noMessage:"Messages_noMessage__vIYFY",chatEmpty:"Messages_chatEmpty__MWF-y"}}}]);
//# sourceMappingURL=761.6ff35872.chunk.js.map