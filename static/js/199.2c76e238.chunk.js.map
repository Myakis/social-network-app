{"version":3,"file":"static/js/199.2c76e238.chunk.js","mappings":"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","sources":["webpack://01_educational-project/./src/pages/Users/Users.module.css?cf61","pages/Users/User.tsx","webpack://01_educational-project/./src/components/common/Paginator/Paginator.module.css?6caa","assets/img/leftArrow.svg","components/common/Paginator/Paginator.tsx","components/utils/LoaderUser/LoaderUser.tsx","redux/selectors/user-selector.ts","pages/Users/FormSearchUsers.tsx","pages/Users/Users.tsx","pages/Users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Users_list__ASmT7\",\"item\":\"Users_item__yRXi8\",\"profile\":\"Users_profile__1BF--\",\"icon\":\"Users_icon__ZIdbs\",\"follow\":\"Users_follow__RUcxf\",\"unfollow\":\"Users_unfollow__saOGV\",\"name\":\"Users_name__SjN50\",\"activePage\":\"Users_activePage__XqWgf\",\"paginatonPage\":\"Users_paginatonPage__QF7FT\",\"searchInput\":\"Users_searchInput__vexiZ\",\"formSearch\":\"Users_formSearch__mnpzK\"};","import React, { FC } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport classes from './Users.module.css';\r\nimport avatarPhoto from '../../assets/img/avatar.png';\r\nimport { UserType } from '../../types/reducers-types';\r\nimport { RootStateType } from '../../redux/store-redux';\r\nimport { SvgDelete, SvgUserPlus } from '../../components/svg/SvgComponents';\r\nimport { follow, unFollow } from '../../redux/reducer/user-reducer';\r\n\r\ninterface UserPropsType {\r\n  user: UserType;\r\n  follow: (id: number) => void;\r\n  unFollow: (id: number) => void;\r\n  isFollowing: Array<number>;\r\n  status: string;\r\n}\r\n\r\nconst User: FC<UserPropsType> = ({ user, follow, unFollow, isFollowing, status }) => {\r\n  const myId = useSelector((state: RootStateType) => state.auth.userId);\r\n  return (\r\n    <>\r\n      <div className={classes.profile}>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img src={user.photos.small ? user.photos.small : avatarPhoto} alt='avatar' />\r\n        </NavLink>\r\n        {myId! == user.id ? (\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <button disabled={isFollowing.some(id => id === user.id)}>Мой профиль</button>\r\n          </NavLink>\r\n        ) : user.followed ? (\r\n          <UnfollowButton user={user} isFollowing={isFollowing} />\r\n        ) : (\r\n          <FollowButton user={user} isFollowing={isFollowing} />\r\n        )}\r\n      </div>\r\n      <div className={classes.info}>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <div className={classes.name}>{user.name}</div>\r\n        </NavLink>\r\n        {status ? <p>{status}</p> : <p>{''}</p>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default User;\r\n\r\nexport const FollowButton: FC<IButtonSubscribe> = ({ user, isFollowing }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <button\r\n      className={classes.follow}\r\n      disabled={isFollowing.some(id => id === user.id)}\r\n      onClick={() => {\r\n        dispatch(follow(user.id));\r\n      }}>\r\n      <span className={classes.icon}>\r\n        <SvgUserPlus />\r\n      </span>\r\n      Подписаться\r\n    </button>\r\n  );\r\n};\r\nexport const UnfollowButton: FC<IButtonSubscribe> = ({ user, isFollowing }) => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <button\r\n      className={classes.unfollow}\r\n      disabled={isFollowing.some(id => id === user.id)}\r\n      onClick={() => {\r\n        dispatch(unFollow(user.id));\r\n      }}>\r\n      <span className={classes.icon}>\r\n        <SvgDelete />{' '}\r\n      </span>\r\n      Отписаться\r\n    </button>\r\n  );\r\n};\r\n\r\ninterface IButtonSubscribe {\r\n  user: UserType;\r\n  isFollowing: Array<number>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"paginatonWrapper\":\"Paginator_paginatonWrapper__YED3h\",\"activePage\":\"Paginator_activePage__hEVxq\",\"paginatonPage\":\"Paginator_paginatonPage__-GCCf\",\"buttonPagination\":\"Paginator_buttonPagination__8v78p\",\"buttonPrev\":\"Paginator_buttonPrev__Md9pk\"};","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLeftArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsxLlink: \"http://www.w3.org/1999/xlink\",\n    xmlnsSvgjs: \"http://svgjs.com/svgjs\",\n    width: 512,\n    height: 512,\n    x: 0,\n    y: 0,\n    viewBox: \"0 0 638.062 638.062\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"_x35__40_\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M303.4,319.03c0.585-7.521-1.701-15.203-7.469-20.944L58.786,61.339c-10.472-10.445-27.43-10.445-37.902,0     c-10.473,10.446-10.473,27.378,0,37.85L241.098,319.03L20.884,538.872c-10.473,10.445-10.473,27.377,0,37.823     c10.473,10.445,27.431,10.445,37.902,0l237.146-236.747C301.699,334.207,303.959,326.553,303.4,319.03z M617.521,298.086     L326.765,7.834c-10.473-10.445-27.431-10.445-37.903,0c-10.473,10.446-10.473,27.404,0,37.823L562.687,319.03L288.861,592.377     c-10.473,10.446-10.473,27.377,0,37.85c10.473,10.446,27.431,10.446,37.903,0l290.729-290.251     c5.768-5.741,8.027-13.423,7.442-20.945C625.548,311.509,623.262,303.827,617.521,298.086z\",\n    fill: \"#000000\",\n    \"data-original\": \"#000000\",\n    className: \"\"\n  })))), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLeftArrow);\nexport default __webpack_public_path__ + \"static/media/leftArrow.c0cf6e99d922aa97c598b89ab1066728.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC, useState } from 'react';\r\n\r\nimport classes from './Paginator.module.css';\r\nimport arrowLeft from '../../../assets/img/leftArrow.svg';\r\n\r\ninterface PaginatorType {\r\n  changePage: (num: number) => void;\r\n  currentPage: number;\r\n  usersCount: number;\r\n  totalItemsCount: number;\r\n  portionSize?: number;\r\n  loading: boolean;\r\n}\r\n\r\nconst Paginator: FC<PaginatorType> = ({\r\n  changePage,\r\n  currentPage,\r\n  usersCount,\r\n  totalItemsCount,\r\n  portionSize = 10,\r\n  loading,\r\n}) => {\r\n  const portionNumDefault = Math.ceil(currentPage / portionSize);\r\n  const [portionNum, setPortionNum] = useState(portionNumDefault);\r\n  const countPage = Math.ceil(totalItemsCount / usersCount);\r\n  const allCountPage = [];\r\n\r\n  for (let i = 1; i <= countPage; i++) {\r\n    allCountPage.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(countPage / portionSize);\r\n  const leftPortionPageNum = (portionNum - 1) * portionSize + 1;\r\n  const rightPortionPageNum = portionNum * portionSize;\r\n\r\n  const prevPage = () => {\r\n    setPortionNum(portionNum - 1);\r\n    changePage(leftPortionPageNum - 1);\r\n  };\r\n  const nextPage = () => {\r\n    setPortionNum(portionNum + 1);\r\n    changePage(1 + rightPortionPageNum);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.paginatonPage}>\r\n      <div className={classes.paginatonWrapper}>\r\n        {leftPortionPageNum > 1 && (\r\n          <button\r\n            className={`${classes.buttonPrev}  ${classes.buttonPagination}`}\r\n            disabled={loading}\r\n            onClick={() => {\r\n              prevPage();\r\n            }}>\r\n            <img src={arrowLeft} alt='' />\r\n          </button>\r\n        )}\r\n\r\n        {allCountPage\r\n          .filter(p => p >= leftPortionPageNum && p <= rightPortionPageNum)\r\n          .map(p => (\r\n            <span\r\n              key={p}\r\n              onClick={() => p !== currentPage && changePage(p)}\r\n              className={currentPage === p ? classes.activePage : ''}>\r\n              {p}\r\n            </span>\r\n          ))}\r\n        {portionCount > portionNum && (\r\n          <button\r\n            className={classes.buttonPagination}\r\n            disabled={loading}\r\n            onClick={() => {\r\n              nextPage();\r\n            }}>\r\n            <img src={arrowLeft} alt='' />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nimport classes from '../../../pages/Users/Users.module.css';\r\nfunction LoaderUser() {\r\n  return (\r\n    <ContentLoader\r\n      speed={2}\r\n      width={450}\r\n      height={185}\r\n      viewBox='0 0 450 185'\r\n      backgroundColor='#f3f3f3'\r\n      foregroundColor='#ecebeb'\r\n      className={classes.item}>\r\n      <rect x='0' y='153' rx='10' ry='10' width='152' height='30' />\r\n      <rect x='0' y='0' rx='10' ry='10' width='152' height='138' />\r\n      <rect x='170' y='5' rx='3' ry='3' width='282' height='31' />\r\n      <rect x='170' y='49' rx='0' ry='0' width='279' height='20' />\r\n    </ContentLoader>\r\n  );\r\n}\r\n\r\nexport default LoaderUser;\r\n","import { createSelector } from 'reselect';\r\n\r\nimport { RootStateType } from '../store-redux';\r\n\r\nexport const getUsers = (state: RootStateType) => state.users.users;\r\nexport const getUsersSelector = createSelector(getUsers, users => {\r\n  return users.filter(u => true);\r\n});\r\nexport const getUsersCountSelector = (state: RootStateType) => state.users.usersCount;\r\nexport const getCurrentPageSelector = (state: RootStateType) => state.users.currentPage;\r\nexport const getTotalUsersCountSelector = (state: RootStateType) => state.users.totalUsersCount;\r\nexport const getFetchSelector = (state: RootStateType) => state.users.ifFetching;\r\nexport const getFollowSelector = (state: RootStateType) => state.users.isFollowing;\r\nexport const getUsersFilter = (state: RootStateType) => state.users.filter;\r\n","import React, { FC } from 'react';\r\nimport { Field, Form, Formik } from 'formik';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { filterType } from '../../redux/reducer/user-reducer';\r\nimport classes from './Users.module.css';\r\nimport { getUsersFilter } from '../../redux/selectors/user-selector';\r\n\r\ninterface IPropsType {\r\n  onFilter: (filter: filterType) => void;\r\n}\r\n\r\ntype FormFriendType = 'null' | 'true' | 'false';\r\ninterface IFormValues {\r\n  term: string;\r\n  friend: FormFriendType;\r\n}\r\n\r\nconst FormSearchUsers: FC<IPropsType> = ({ onFilter }) => {\r\n  const filter = useSelector(getUsersFilter);\r\n\r\n  const submitHandler = (\r\n    values: IFormValues,\r\n    { setSubmitting }: { setSubmitting: (setSubmitting: boolean) => void },\r\n  ) => {\r\n    const filter: filterType = {\r\n      term: values.term,\r\n      friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false,\r\n    };\r\n    onFilter(filter);\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        enableReinitialize\r\n        initialValues={{ term: filter.term, friend: String(filter.friend) as FormFriendType }}\r\n        onSubmit={submitHandler}>\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formSearch}>\r\n            <Field\r\n              className={classes.searchInput}\r\n              type='text'\r\n              name='term'\r\n              placeholder='Поиск по имени'\r\n            />\r\n            <Field as='select' name='friend'>\r\n              <option value='null'>Все</option>\r\n              <option value='true'>Мои подписки</option>\r\n              <option value='false'>Еще не подписан</option>\r\n            </Field>\r\n            <div>\r\n              <button type='submit' disabled={isSubmitting}>\r\n                Поиск\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormSearchUsers;\r\n","import React, { FC, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport queryString, { ParsedQuery } from 'query-string';\r\n\r\nimport classes from './Users.module.css';\r\nimport User from './User';\r\nimport Paginator from '../../components/common/Paginator/Paginator';\r\nimport LoaderUser from '../../components/utils/LoaderUser/LoaderUser';\r\nimport FormSearchUsers from './FormSearchUsers';\r\nimport { filterType, follow, getsUsers, unFollow } from '../../redux/reducer/user-reducer';\r\nimport {\r\n  getCurrentPageSelector,\r\n  getFetchSelector,\r\n  getFollowSelector,\r\n  getTotalUsersCountSelector,\r\n  getUsersCountSelector,\r\n  getUsersFilter,\r\n  getUsersSelector,\r\n} from '../../redux/selectors/user-selector';\r\n\r\ntype IQuery = {\r\n  term?: string;\r\n  page?: string;\r\n  friend?: string;\r\n};\r\n\r\nconst Users: FC = React.memo(() => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const users = useSelector(getUsersSelector);\r\n  const isFetching = useSelector(getFetchSelector);\r\n  const usersCount = useSelector(getUsersCountSelector);\r\n  const filter = useSelector(getUsersFilter);\r\n  const currentPage = useSelector(getCurrentPageSelector);\r\n  const totalItemsCount = useSelector(getTotalUsersCountSelector);\r\n  const isFollowing = useSelector(getFollowSelector);\r\n\r\n  useEffect(() => {\r\n    const value = queryString.parse(location.search) as IQuery;\r\n    let actualPage = currentPage;\r\n    let actualFilter = filter;\r\n    if (!!value.page) actualPage = +value.page;\r\n    if (!!value.term) actualFilter = { ...actualFilter, term: value.term };\r\n    if (!!value.friend)\r\n      actualFilter = {\r\n        ...actualFilter,\r\n        friend: value.friend === 'null' ? null : value.friend === 'true' ? true : false,\r\n      };\r\n\r\n    dispatch(getsUsers(actualPage, usersCount, actualFilter));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const query: IQuery = {};\r\n    if (!!filter.term) query.term = filter.term;\r\n    if (filter.friend !== null) query.friend = String(filter.friend);\r\n    if (currentPage !== 1) query.page = String(currentPage);\r\n    navigate('?' + queryString.stringify(query));\r\n  }, [usersCount, currentPage, filter]);\r\n\r\n  const changePage = (pageNum: number) => {\r\n    dispatch(getsUsers(pageNum, usersCount, filter));\r\n  };\r\n  const onFilter = (filter: filterType) => {\r\n    dispatch(getsUsers(1, usersCount, filter));\r\n  };\r\n  const followSubscribe = (id: number) => {\r\n    dispatch(follow(id));\r\n  };\r\n  const unFollowSubscribe = (id: number) => {\r\n    dispatch(unFollow(id));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.list}>\r\n      <div>\r\n        {/* Загрузка страницы */}\r\n        <FormSearchUsers onFilter={onFilter} />\r\n        {isFetching &&\r\n          Array(6)\r\n            .fill('')\r\n            .map((item, index) => <LoaderUser key={index} />)}\r\n\r\n        {/* Перебор всех пользователей и отображение по шаблону */}\r\n        {!isFetching &&\r\n          users.map(u => (\r\n            <div key={u.id} className={classes.item}>\r\n              <User\r\n                user={u}\r\n                isFollowing={isFollowing}\r\n                follow={followSubscribe}\r\n                unFollow={unFollowSubscribe}\r\n                status={u.status}\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n      {/* Постраничная пагинация */}\r\n      <Paginator\r\n        loading={isFetching}\r\n        usersCount={usersCount}\r\n        totalItemsCount={totalItemsCount}\r\n        currentPage={currentPage}\r\n        changePage={changePage}\r\n      />\r\n    </div>\r\n  );\r\n});\r\nexport default Users;\r\n","import { connect, ConnectedProps } from 'react-redux';\r\nimport React from 'react';\r\nimport { compose } from 'redux';\r\n\r\nimport Users from './Users';\r\n\r\nimport {\r\n  follow,\r\n  unFollow,\r\n  UserActions,\r\n  getsUsers,\r\n  filterType,\r\n} from '../../redux/reducer/user-reducer';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {\r\n  getCurrentPageSelector,\r\n  getFollowSelector,\r\n  getTotalUsersCountSelector,\r\n  getUsersCountSelector,\r\n  getUsersSelector,\r\n  getFetchSelector,\r\n  getUsersFilter,\r\n} from '../../redux/selectors/user-selector';\r\nimport { RootStateType } from '../../redux/store-redux';\r\nimport { UserType } from '../../types/reducers-types';\r\nconst { setCurrentPage, toggleFollowingProgressive } = UserActions;\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStateToProps => {\r\n  return {\r\n    users: getUsersSelector(state),\r\n    usersCount: getUsersCountSelector(state),\r\n    currentPage: getCurrentPageSelector(state),\r\n    totalUsersCount: getTotalUsersCountSelector(state),\r\n    isFetching: getFetchSelector(state),\r\n    isFollowing: getFollowSelector(state),\r\n    filter: getUsersFilter(state),\r\n  };\r\n};\r\n\r\nconst connector = connect(mapStateToProps, {\r\n  follow,\r\n  unFollow,\r\n  setCurrentPage,\r\n  toggleFollowingProgressive,\r\n  getsUsers,\r\n});\r\n\r\ninterface MapStateToProps {\r\n  currentPage: number;\r\n  usersCount: number;\r\n  totalUsersCount: number;\r\n  isFetching: boolean;\r\n  isFollowing: Array<number>;\r\n  users: UserType[];\r\n  filter: filterType;\r\n}\r\n\r\ninterface PropsType extends PropsFromRedux {}\r\n\r\nclass UsersComponent extends React.Component<PropsType> {\r\n  render() {\r\n    return <Users />;\r\n  }\r\n}\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default compose<any>(connector, withAuthRedirect)(UsersComponent);\r\n"],"names":["user","isFollowing","follow","unFollow","status","myId","useSelector","state","auth","userId","className","classes","to","id","src","photos","small","avatarPhoto","alt","disabled","some","followed","UnfollowButton","FollowButton","name","dispatch","useDispatch","onClick","changePage","currentPage","usersCount","totalItemsCount","portionSize","loading","portionNumDefault","Math","ceil","useState","portionNum","setPortionNum","countPage","allCountPage","i","push","portionCount","leftPortionPageNum","rightPortionPageNum","arrowLeft","filter","p","map","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","getUsersSelector","createSelector","users","u","getUsersCountSelector","getCurrentPageSelector","getTotalUsersCountSelector","totalUsersCount","getFetchSelector","ifFetching","getFollowSelector","getUsersFilter","onFilter","enableReinitialize","initialValues","term","friend","String","onSubmit","values","setSubmitting","isSubmitting","type","placeholder","as","value","React","navigate","useNavigate","location","useLocation","isFetching","useEffect","queryString","search","actualPage","actualFilter","page","getsUsers","query","followSubscribe","unFollowSubscribe","Array","fill","item","index","pageNum","setCurrentPage","UserActions","toggleFollowingProgressive","connector","connect","UsersComponent","compose","withAuthRedirect"],"sourceRoot":""}