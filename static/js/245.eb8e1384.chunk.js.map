{"version":3,"file":"static/js/245.eb8e1384.chunk.js","mappings":"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","sources":["webpack://01_educational-project/./src/components/utils/validators/FormControl.module.css?da3e","components/utils/validators/FormControl.tsx","webpack://01_educational-project/./src/pages/Login/Login.module.scss?62e7","pages/Login/Login.tsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"parent\":\"FormControl_parent__lF0UW\",\"error\":\"FormControl_error__5OHJW\"};","import { FC } from 'react';\r\nimport classes from './FormControl.module.css';\r\n\r\nexport const required = (value: string | undefined) => (value ? undefined : 'Обязательно поле');\r\nexport const validateURL = (URL: string) => {\r\n  var regExURL =\r\n    /^[A-Za-z][A-Za-z0-9+\\-.]*:(?:\\/\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*)(?::[0-9]*)?(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?|(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|)(?:\\?(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?(?:\\#(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?$/;\r\n  const response = regExURL.test(URL);\r\n  return response === true || URL == null ? undefined : 'Некорректная ссылка';\r\n};\r\nexport const maxValueCreator = (maxValue: number) => (value: string) =>\r\n  value && value.length > maxValue ? `Не может быть больше ${maxValue}` : undefined;\r\nexport const minValueCreator = (minValue: number) => (value: string) =>\r\n  value && value.length < minValue ? `Минимальная длина ${minValue}` : undefined;\r\n\r\ninterface iFieldForm {\r\n  input: string;\r\n  meta: {\r\n    touched: boolean;\r\n    error: string;\r\n  };\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst FieldForm: FC<iFieldForm> = ({ input, meta: { touched, error }, children }) => {\r\n  const hasError = error && touched;\r\n  return (\r\n    <div className={`${classes.parent} ${hasError ? classes.error : ''} `}>\r\n      {children}\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input: FC = (props: any) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <input {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n\r\nexport const Textarea: FC = (props: any) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <textarea {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Login_form__na+KE\",\"inputWrap\":\"Login_inputWrap__AkVSP\",\"errorData\":\"Login_errorData__KLVWR\",\"guest\":\"Login_guest__ZDjo7\"};","import React, { FC } from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport classes from './Login.module.scss';\r\nimport {\r\n  Input,\r\n  maxValueCreator,\r\n  minValueCreator,\r\n  required,\r\n} from '../../components/utils/validators/FormControl';\r\nimport { login } from '../../redux/reducer/auth-reducer';\r\nimport { RootStateType } from '../../redux/store-redux';\r\n\r\ninterface ILogin extends PropsFromRedux {\r\n  isAuth: boolean;\r\n  login: any;\r\n  errorMessage: string;\r\n  captchaUrl: string;\r\n}\r\nconst Login: FC<ILogin> = props => {\r\n  if (props.isAuth) {\r\n    return <Navigate to={'/profile'} />;\r\n  }\r\n  const loginHandler = () => {\r\n    alert(\r\n      'Будет использоваться токен с ограниченным количеством запросов. Может выдавать ошибку, если запросы были израсходованы',\r\n    );\r\n    props.login('free@samuraijs.com', 'free');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Вход</h1>\r\n      <LoginForm\r\n        login={props.login}\r\n        errorMessage={props.errorMessage}\r\n        captchaUrl={props.captchaUrl}\r\n      />\r\n      <div className={classes.guest}>\r\n        <button onClick={loginHandler}>Войти как гость</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\ninterface ILoginForm {}\r\n\r\nconst LoginForm = (props: any) => {\r\n  const onSubmit = (data: any) => {\r\n    props.login(data.email, data.password, data.rememberMe, data.captcha);\r\n  };\r\n  const maxValue = maxValueCreator(50);\r\n  const minValue = minValueCreator(4);\r\n\r\n  const composeValidators =\r\n    (...validators: any[]) =>\r\n    (value: any) =>\r\n      validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit} className={classes.form} action=''>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'email'}\r\n              component={Input}\r\n              type='text'\r\n              placeholder='Email'\r\n              validate={composeValidators(required, maxValue)}\r\n            />\r\n          </div>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'password'}\r\n              component={Input}\r\n              type='password'\r\n              placeholder='Пароль'\r\n              validate={composeValidators(required, minValue)}\r\n            />\r\n          </div>\r\n          <label className={classes.inputWrap}>\r\n            <Field name={'rememberMe'} component='input' type='checkbox' />\r\n            Замомнить меня\r\n          </label>\r\n          {props.captchaUrl && (\r\n            <>\r\n              <img src={props.captchaUrl} alt='captcha' />\r\n              <Field name={'captcha'} component={Input} type='input' validate={required} />\r\n            </>\r\n          )}\r\n          {props.errorMessage && (\r\n            <div className={classes.errorData}>\r\n              <span>{props.errorMessage} </span>\r\n            </div>\r\n          )}\r\n          <div className={classes.inputWrap}>\r\n            <button type='submit'> Войти</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\ninterface ImapStateToProps {\r\n  isAuth: boolean | null;\r\n  errorMessage: string;\r\n  captchaUrl: string | null;\r\n}\r\nconst mapStateToProps = (state: RootStateType): ImapStateToProps => ({\r\n  isAuth: state.auth.isAuth,\r\n  errorMessage: state.auth.errorMessage,\r\n  captchaUrl: state.auth.captchaUrl,\r\n});\r\n\r\nconst connector = connect(mapStateToProps, {\r\n  login,\r\n});\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector<any>(Login);\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["required","value","undefined","validateURL","URL","test","maxValueCreator","maxValue","length","minValueCreator","minValue","FieldForm","input","meta","touched","error","children","hasError","className","classes","Input","props","restProps","LoginForm","composeValidators","validators","reduce","validator","onSubmit","data","login","email","password","rememberMe","captcha","render","handleSubmit","action","name","component","type","placeholder","validate","captchaUrl","src","alt","errorMessage","connect","state","isAuth","auth","to","onClick","alert","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}