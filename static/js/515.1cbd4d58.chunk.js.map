{"version":3,"file":"static/js/515.1cbd4d58.chunk.js","mappings":"6NACA,EAAuB,oBAAvB,EAAuD,yBAAvD,EAA4F,yB,6BCiCtFA,EAAY,SAACC,GACjB,IAGMC,GAAWC,EAAAA,EAAAA,IAAgB,IAC3BC,GAAWC,EAAAA,EAAAA,IAAgB,IAE3BC,EACJ,sCAAIC,EAAJ,yBAAIA,EAAJ,uBACA,SAACC,GAAD,OACED,EAAWE,QAAO,SAACC,EAAOC,GAAR,OAAsBD,GAASC,EAAUH,UAAQI,KAEvE,OACE,SAAC,KAAD,CACEC,SAba,SAACC,GAChBb,EAAMc,MAAMD,EAAKE,MAAOF,EAAKG,SAAUH,EAAKI,WAAYJ,EAAKK,UAa3DC,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACN,kBAAMR,SAAUQ,EAAcC,UAAWC,EAAcC,OAAO,GAA9D,WACE,gBAAKF,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEE,KAAM,QACNC,UAAWC,EAAAA,GACXC,KAAK,OACLC,YAAY,QACZC,SAAUxB,EAAkByB,EAAAA,GAAU7B,QAG1C,gBAAKoB,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEE,KAAM,WACNC,UAAWC,EAAAA,GACXC,KAAK,WACLC,YAAY,uCACZC,SAAUxB,EAAkByB,EAAAA,GAAU3B,QAG1C,mBAAOkB,UAAWC,EAAlB,WACE,SAAC,KAAD,CAAOE,KAAM,aAAcC,UAAU,QAAQE,KAAK,aADpD,qFAIC3B,EAAM+B,aACL,iCACE,gBAAKC,IAAKhC,EAAM+B,WAAYE,IAAI,aAChC,SAAC,KAAD,CAAOT,KAAM,UAAWC,UAAWC,EAAAA,GAAOC,KAAK,QAAQE,SAAUC,EAAAA,QAGpE9B,EAAMkC,eACL,gBAAKb,UAAWC,EAAhB,UACE,4BAAOtB,EAAMkC,aAAb,UAGJ,gBAAKb,UAAWC,EAAhB,UACE,mBAAQK,KAAK,SAAb,sDAyBZ,GANkBQ,EAAAA,EAAAA,KANM,SAACC,GAAD,MAA6C,CACnEC,OAAQD,EAAME,KAAKD,OACnBH,aAAcE,EAAME,KAAKJ,aACzBH,WAAYK,EAAME,KAAKP,cAGkB,CACzCjB,MAAAA,EAAAA,IAKF,EA9F0B,SAAAd,GACxB,OAAIA,EAAMqC,QACD,SAAC,KAAD,CAAUE,GAAI,cAIrB,4BACE,sDACA,SAACxC,EAAD,CACEe,MAAOd,EAAMc,MACboB,aAAclC,EAAMkC,aACpBH,WAAY/B,EAAM+B,oB,8KC1B1B,EAAyB,4BAAzB,EAA6D,2B,4BCEhDD,EAAW,SAACvB,GAAD,OAAgCA,OAAQI,EAAY,+FAC/D6B,EAAc,SAACC,GAI1B,OAAoB,IAFlB,wyCACwBC,KAAKD,IACI,MAAPA,OAAc9B,EAAY,iHAE3CT,EAAkB,SAACD,GAAD,OAAsB,SAACM,GAAD,OACnDA,GAASA,EAAMoC,OAAS1C,EAAxB,oHAA2DA,QAAaU,IAC7DP,EAAkB,SAACD,GAAD,OAAsB,SAACI,GAAD,OACnDA,GAASA,EAAMoC,OAASxC,EAAxB,4GAAwDA,QAAaQ,IAWjEiC,EAA4B,SAAC,GAAkD,EAAhDC,MAAiD,IAAD,IAAzCC,KAAQC,EAAiC,EAAjCA,QAAStC,EAAwB,EAAxBA,MAASuC,EAAe,EAAfA,SAC9DC,EAAWxC,GAASsC,EAC1B,OACE,iBAAK1B,UAAS,UAAKC,EAAL,YAAuB2B,EAAW3B,EAAgB,GAAlD,KAAd,UACG0B,EACAC,IAAY,0BAAOxC,QAKbiB,EAAY,SAAC1B,GACxB,IAAQ6C,EAA8B7C,EAA9B6C,MAAgBK,GAAclD,EAAvB8C,MAAf,OAAsC9C,EAAtC,IACA,OACE,SAAC4C,GAAD,kBAAe5C,GAAf,cACE,oCAAWkD,GAAeL","sources":["webpack://01_educational-project/./src/componetns/login/Login.module.css?c68e","componetns/login/Login.tsx","webpack://01_educational-project/./src/componetns/utils/validators/FormControl.module.css?49cd","componetns/utils/validators/FormControl.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Login_form__Ar6mQ\",\"inputWrap\":\"Login_inputWrap__6f96n\",\"errorData\":\"Login_errorData__keQru\"};","import React, { FC } from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport classes from './Login.module.css';\r\nimport { Input, maxValueCreator, minValueCreator, required } from '../utils/validators/FormControl';\r\nimport { login } from '../../redux/reducer/auth-reducer';\r\nimport { RootStateType } from '../../redux/store-redux';\r\n\r\ninterface ILogin extends PropsFromRedux {\r\n  isAuth: boolean;\r\n  login: any;\r\n  errorMessage: string;\r\n  captchaUrl: string;\r\n}\r\nconst Login: FC<ILogin> = props => {\r\n  if (props.isAuth) {\r\n    return <Navigate to={'/profile'} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Вход</h1>\r\n      <LoginForm\r\n        login={props.login}\r\n        errorMessage={props.errorMessage}\r\n        captchaUrl={props.captchaUrl}\r\n      />\r\n    </div>\r\n  );\r\n};\r\ninterface ILoginForm {}\r\n\r\nconst LoginForm = (props: any) => {\r\n  const onSubmit = (data: any) => {\r\n    props.login(data.email, data.password, data.rememberMe, data.captcha);\r\n  };\r\n  const maxValue = maxValueCreator(50);\r\n  const minValue = minValueCreator(10);\r\n\r\n  const composeValidators =\r\n    (...validators: any[]) =>\r\n    (value: any) =>\r\n      validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit} className={classes.form} action=''>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'email'}\r\n              component={Input}\r\n              type='text'\r\n              placeholder='Email'\r\n              validate={composeValidators(required, maxValue)}\r\n            />\r\n          </div>\r\n          <div className={classes.inputWrap}>\r\n            <Field\r\n              name={'password'}\r\n              component={Input}\r\n              type='password'\r\n              placeholder='Пароль'\r\n              validate={composeValidators(required, minValue)}\r\n            />\r\n          </div>\r\n          <label className={classes.inputWrap}>\r\n            <Field name={'rememberMe'} component='input' type='checkbox' />\r\n            Замомнить меня\r\n          </label>\r\n          {props.captchaUrl && (\r\n            <>\r\n              <img src={props.captchaUrl} alt='captcha' />\r\n              <Field name={'captcha'} component={Input} type='input' validate={required} />\r\n            </>\r\n          )}\r\n          {props.errorMessage && (\r\n            <div className={classes.errorData}>\r\n              <span>{props.errorMessage} </span>\r\n            </div>\r\n          )}\r\n          <div className={classes.inputWrap}>\r\n            <button type='submit'> Войти</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\ninterface ImapStateToProps {\r\n  isAuth: boolean | null;\r\n  errorMessage: string;\r\n  captchaUrl: string | null;\r\n}\r\nconst mapStateToProps = (state: RootStateType): ImapStateToProps => ({\r\n  isAuth: state.auth.isAuth,\r\n  errorMessage: state.auth.errorMessage,\r\n  captchaUrl: state.auth.captchaUrl,\r\n});\r\n\r\nconst connector = connect(mapStateToProps, {\r\n  login,\r\n});\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector<any>(Login);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"parent\":\"FormControl_parent__xsHKg\",\"error\":\"FormControl_error__j-W5z\"};","import { FC } from 'react';\r\nimport classes from './FormControl.module.css';\r\n\r\nexport const required = (value: string | undefined) => (value ? undefined : 'Обязательно поле');\r\nexport const validateURL = (URL: string) => {\r\n  var regExURL =\r\n    /^[A-Za-z][A-Za-z0-9+\\-.]*:(?:\\/\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*)(?::[0-9]*)?(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?|(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|)(?:\\?(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?(?:\\#(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?$/;\r\n  const response = regExURL.test(URL);\r\n  return response === true || URL == null ? undefined : 'Некорректная ссылка';\r\n};\r\nexport const maxValueCreator = (maxValue: number) => (value: string) =>\r\n  value && value.length > maxValue ? `Не может быть больше ${maxValue}` : undefined;\r\nexport const minValueCreator = (minValue: number) => (value: string) =>\r\n  value && value.length < minValue ? `Минимальная длина ${minValue}` : undefined;\r\n\r\ninterface iFieldForm {\r\n  input: string;\r\n  meta: {\r\n    touched: boolean;\r\n    error: string;\r\n  };\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst FieldForm: FC<iFieldForm> = ({ input, meta: { touched, error }, children }) => {\r\n  const hasError = error && touched;\r\n  return (\r\n    <div className={`${classes.parent} ${hasError ? classes.error : ''} `}>\r\n      {children}\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input: FC = (props: any) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <input {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n\r\nexport const Textarea: FC = (props: any) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FieldForm {...props}>\r\n      <textarea {...restProps} {...input} />\r\n    </FieldForm>\r\n  );\r\n};\r\n"],"names":["LoginForm","props","maxValue","maxValueCreator","minValue","minValueCreator","composeValidators","validators","value","reduce","error","validator","undefined","onSubmit","data","login","email","password","rememberMe","captcha","render","handleSubmit","className","classes","action","name","component","Input","type","placeholder","validate","required","captchaUrl","src","alt","errorMessage","connect","state","isAuth","auth","to","validateURL","URL","test","length","FieldForm","input","meta","touched","children","hasError","restProps"],"sourceRoot":""}