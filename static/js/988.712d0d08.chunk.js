"use strict";(self.webpackChunk_01_educational_project=self.webpackChunk_01_educational_project||[]).push([[988],{8749:function(s,t,e){e.d(t,{D:function(){return l}});var a=e(8683),n=(e(2791),e(364)),i=e(6871),r=e(184),o=function(s){return{isAuth:s.auth.isAuth}},l=function(s){return(0,n.$j)(o)((function(t){return t.isAuth?(0,r.jsx)(s,(0,a.Z)({},t)):(0,r.jsx)(i.Fg,{to:"/login"})}))}},2988:function(s,t,e){e.r(t),e.d(t,{default:function(){return B}});var a=e(8683),n=e(885),i=e(2791),r=e(364),o=e(5806),l="AboutMe_body__4JJ4p",c="AboutMe_avatar__9KZfq",u="ProfileInfo_ProfileInfo__IQMHf",d="ProfileInfo_description__i84vk",f="ProfileInfo_item__o39Op",h="ProfileInfo_name__YYCwk",p="ProfileStatus_statusWrapper__zl5+c",j="ProfileStatus_status__fdH7s",x="ProfileStatus_overlay__BENyS",m=e(184),_=function(s){var t=(0,i.useState)(!1),e=(0,n.Z)(t,2),a=e[0],r=e[1],o=(0,i.useState)(s.status||""),l=(0,n.Z)(o,2),c=l[0],u=l[1],d=function(){r(!a)};(0,i.useEffect)((function(){u(s.status)}),[s.status]);return(0,m.jsxs)("div",{className:p,children:[!a&&(0,m.jsx)("div",{className:j,children:(0,m.jsx)("span",{onDoubleClick:d,children:s.status||"\u0414\u043e\u0431\u0430\u0432\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),a&&(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("div",{className:x}),(0,m.jsx)("input",{onChange:function(s){u(s.target.value)},autoFocus:!0,onBlur:d,onKeyDown:function(t){13===t.keyCode&&(d(),s.updateUserStatus(c))},value:c})]})]})},v=function(s){return(0,m.jsx)("div",{className:u,children:(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("div",{className:"".concat(f," ").concat(h),children:s.fullName}),(0,m.jsx)("div",{className:f,children:(0,m.jsx)("span",{children:s.description})}),(0,m.jsx)(_,{status:s.status,updateUserStatus:s.updateUserStatus}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"})," 10.10.2001"]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:" \u0413\u043e\u0440\u043e\u0434:"})," \u0423\u0441\u0441\u0443\u0440\u0438\u0439\u0441\u043a"]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: "})," \u041d\u0435\u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435"]}),s.twitter?(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"Twitter:"}),(0,m.jsxs)("a",{href:s.twitter,children:[" ",s.twitter]})]}):"",s.vk?(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"vk:"}),(0,m.jsxs)("a",{href:s.vk,children:[" ",s.vk]})]}):"",s.instagram?(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"instagram:"}),(0,m.jsxs)("a",{href:s.instagram,children:[" ",s.instagram]})]}):"",s.github?(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"github:"}),(0,m.jsxs)("a",{href:s.github,children:[" ",s.github]})]}):"",s.website?(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("span",{children:"website:"}),(0,m.jsxs)("a",{href:s.website,children:[" ",s.website]})]}):""]})})},N=e(612),g=function(s){return(0,m.jsx)("div",{className:c,children:(0,m.jsx)("img",{src:s.photo?s.photo:N,alt:"avatar"})})},b=function(s){return(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)(g,{photo:s.profile.photos.large}),(0,m.jsx)(v,{status:s.status,updateUserStatus:s.updateUserStatus,description:s.profile.aboutMe,fullName:s.profile.fullName,twitter:s.profile.contacts.twitter,vk:s.profile.contacts.vk,instagram:s.profile.contacts.instagram,github:s.profile.contacts.github,website:s.profile.contacts.website})]})},P=e(6070),S=e(2982),k="MyPost_form__T7Bfq",w="MyPost_textarea__NKHol",y="MyPost_button__NdlMG",C={post:"Post_post__Deqlx",body:"Post_body__2Ujn9",avatar:"Post_avatar__LsbHg",content:"Post_content__sotKc",tools:"Post_tools__q+7yq",count:"Post_count__bonHO"},M=function(s){return(0,m.jsxs)("div",{className:C.post,children:[(0,m.jsxs)("div",{className:C.body,children:[(0,m.jsx)("div",{className:C.avatar,children:(0,m.jsx)("img",{src:s.photo?s.photo:N,alt:"avatar"})}),(0,m.jsx)("div",{className:C.content,children:s.message})]}),(0,m.jsxs)("div",{className:C.tools,children:[(0,m.jsxs)("span",{className:C.share,children:[(0,m.jsx)("span",{className:C.count,children:s.shareCount}),"\u041f\u043e\u0434\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"]}),(0,m.jsx)("span",{className:C.comment,children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442"}),(0,m.jsxs)("span",{className:C.like,children:[(0,m.jsx)("span",{className:C.count,children:s.likeCount})," \u041b\u0430\u0439\u043a"]}),(0,m.jsx)("span",{className:C.like,children:(0,m.jsx)("span",{className:C.count,children:s.date?s.date:""})})]})]})},U=e(5078),Z=function(s){return(0,m.jsx)(U.l0,{onSubmit:function(t,e){s.addPost(t.post),e.reset()},validate:function(s){},render:function(s){var t=s.handleSubmit;return(0,m.jsxs)("form",{onSubmit:t,action:"#",className:k,children:[(0,m.jsx)(U.gN,{component:"textarea",className:w,name:"post",autoComplete:"off"}),(0,m.jsx)("button",{type:"submit",className:y,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})]})}})},I=function(s){var t=(0,S.Z)(s.post).reverse().map((function(t){var e=(t.date.getMonth()<10?"0"+t.date.getMonth():t.date.getMonth())+"        "+(t.date.getDay()<10?"0"+t.date.getDay():t.date.getDay())+":"+(t.date.getHours()<10?"0"+t.date.getHours():t.date.getHours())+":"+(t.date.getMinutes()<10?"0"+t.date.getMinutes():t.date.getMinutes());return(0,m.jsx)(M,{id:t.id,message:t.message,likeCount:t.likeCount,shareCount:t.shareCount,photo:s.photo,date:e},t.id)}));return(0,m.jsxs)("div",{children:[(0,m.jsx)(Z,{addPost:function(t){s.addPost(t)}}),t]})},D=(0,r.$j)((function(s){return{post:s.profile.post,valueText:s.profile.textPost,photo:s.profile.profile.photos.small}}),{addPost:P.q2})(I),H="Profile_wrapper__R1wLa",q="Profile_header__drWVh",A=function(s){return s.profile?(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:q,children:(0,m.jsx)("img",{src:"https://7oom.ru/wp-content/uploads/peizaji-01.jpg",alt:""})}),(0,m.jsxs)("div",{className:H,children:[!s.loadProfile&&(0,m.jsx)(o.Z,{}),(0,m.jsx)(b,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,m.jsx)(D,{profile:s.profile})]})]}):(0,m.jsx)(o.Z,{})},K=e(5796),O=e(7781),T=e(8749),$=e(1687),z=e(6871),B=(0,O.qC)((0,r.$j)((function(s){return{profile:s.profile.profile,status:s.profile.status,userId:s.auth.userId}}),{setUserProfile:P.$l,isAuthorization:K.j7,getStatus:P.lR,updateUserStatus:P.OL}),T.D)((function(s){var t=(0,z.UO)().id,e=(0,i.useState)(!1),r=(0,n.Z)(e,2),o=r[0],l=r[1];return(0,i.useEffect)((function(){var e=t;e||(e=s.userId),s.getStatus(e),l(!1),$.TV.getProfile(e).then((function(t){s.setUserProfile(t.data),l(!0)}))}),[t]),(0,m.jsx)(A,(0,a.Z)((0,a.Z)({},s),{},{loadProfile:o}))}))}}]);
//# sourceMappingURL=988.712d0d08.chunk.js.map